# .env.example
# Copy this file to .env.local and update with your actual values

# ============================================
# APPLICATION CONFIGURATION
# ============================================
NODE_ENV=development
PORT=3000
API_VERSION=v1

# Application Name
APP_NAME=ResumeLetterAI API
APP_VERSION=1.0.0

# ============================================
# DATABASE CONFIGURATION
# ============================================
# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/resumeletterai
MONGODB_TEST_URI=mongodb://localhost:27017/resumeletterai_test

# MongoDB Connection Options
MONGODB_MAX_POOL_SIZE=10
MONGODB_SERVER_SELECTION_TIMEOUT=5000
MONGODB_SOCKET_TIMEOUT=45000

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TEST_DB=1

# Redis Connection Options
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100
REDIS_CONNECT_TIMEOUT=10000

# ============================================
# JWT & AUTHENTICATION
# ============================================
# JWT Secrets (MUST be changed in production - minimum 64 characters)
JWT_ACCESS_SECRET=your-super-secret-jwt-access-key-here-must-be-minimum-64-characters-long
JWT_REFRESH_SECRET=your-super-secret-jwt-refresh-key-here-must-be-minimum-64-characters-long

# JWT Token Expiry
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Password Hashing
BCRYPT_ROUNDS=12

# ============================================
# RATE LIMITING CONFIGURATION
# ============================================
# Rate Limiting Windows (milliseconds)
RATE_LIMIT_WINDOW_MS=60000

# Rate Limits (requests per window)
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_MAX_ANONYMOUS=10
RATE_LIMIT_MAX_WRITE=10
RATE_LIMIT_MAX_AUTH=5

# Burst Handling
RATE_LIMIT_SKIP_FAILED_REQUESTS=false
RATE_LIMIT_SKIP_SUCCESS_REQUESTS=false

# ============================================
# CORS CONFIGURATION
# ============================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000

# CORS Options
CORS_CREDENTIALS=true
CORS_OPTIONS_SUCCESS_STATUS=200

# ============================================
# LOGGING CONFIGURATION
# ============================================
# Log Level: debug | info | warn | error
# Development: debug or info
# Production: warn or error
LOG_LEVEL=info

# File Logging
LOG_TO_FILE=true
LOG_FILE_MAX_SIZE=20971520
LOG_MAX_FILES=5

# Console Logging
LOG_TO_CONSOLE=true

# Advanced Logging Options (Development Only)
ENABLE_REQUEST_LOGGING=false
ENABLE_QUERY_LOGGING=false
DEBUG_CACHE=false
DEBUG_AUTH=false
DEBUG_DATABASE=false

# ============================================
# CACHE CONFIGURATION
# ============================================
# Cache TTL (seconds)
CACHE_TEMPLATE_LIST_TTL=300
CACHE_TEMPLATE_DETAIL_TTL=1800
CACHE_USER_INFO_TTL=120
CACHE_REVIEWS_LIST_TTL=600
CACHE_POPULAR_TEMPLATES_TTL=3600

# Cache Key Prefix
CACHE_KEY_PREFIX=resumeletterai

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
# Upload Limits
MAX_FILE_SIZE=10485760
MAX_FILES_PER_REQUEST=5

# Allowed File Types
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/gif,image/webp
ALLOWED_DOCUMENT_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# ============================================
# EXTERNAL SERVICES
# ============================================
# AWS Configuration (for S3, SES, etc.)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_BUCKET_NAME=resumeletterai-assets
S3_BUCKET_REGION=us-east-1

# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# Email Configuration (Nodemailer)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=
EMAIL_PASSWORD=
EMAIL_FROM=noreply@resumeletterai.com

# ============================================
# MONITORING & HEALTH CHECKS
# ============================================
# Prometheus Metrics
PROMETHEUS_ENABLED=true
METRICS_ENDPOINT=/metrics

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
READINESS_CHECK_TIMEOUT=10000

# Sentry Configuration (Error Tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Encryption Key (32 characters for AES-256)
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Session Configuration
SESSION_SECRET=your-session-secret-here-minimum-32-characters
SESSION_MAX_AGE=86400000

# HTTPS Enforcement
FORCE_HTTPS=false
TRUST_PROXY=false

# Security Headers
HSTS_MAX_AGE=31536000
CONTENT_SECURITY_POLICY_ENABLED=true

# ============================================
# PAGINATION CONFIGURATION
# ============================================
# Default Pagination Limits
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
MIN_PAGE_SIZE=1

# Cursor Pagination
CURSOR_PAGINATION_ENABLED=true
OFFSET_PAGINATION_FALLBACK=true

# ============================================
# BUSINESS LOGIC CONFIGURATION
# ============================================
# Template Configuration
MAX_TEMPLATES_PER_USER=50
TEMPLATE_NAME_MAX_LENGTH=100
TEMPLATE_DESCRIPTION_MAX_LENGTH=500

# Review Configuration
MAX_REVIEWS_PER_USER_PER_TEMPLATE=1
REVIEW_COMMENT_MAX_LENGTH=1000
REVIEW_MIN_RATING=1
REVIEW_MAX_RATING=5

# User Configuration
USER_NAME_MAX_LENGTH=50
USER_BIO_MAX_LENGTH=500

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_TEMPLATE_CREATION=true
FEATURE_USER_REVIEWS=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_FILE_UPLOADS=true
FEATURE_ANALYTICS=true

# ============================================
# PRODUCTION OVERRIDES
# (These will be different in production)
# ============================================
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/resumeletterai?retryWrites=true&w=majority
# REDIS_HOST=your-redis-host.com
# REDIS_PORT=6380
# REDIS_PASSWORD=your-redis-password
# JWT_ACCESS_SECRET=production-super-long-secret-key-here
# JWT_REFRESH_SECRET=production-super-long-refresh-secret-key-here
# ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# SENTRY_DSN=https://your-sentry-dsn
# NODE_ENV=production
# LOG_LEVEL=warn
# LOG_TO_CONSOLE=false
# ENABLE_REQUEST_LOGGING=false
# FORCE_HTTPS=true
# TRUST_PROXY=true